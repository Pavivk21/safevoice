<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Admin Analytics â€“ SafeVoice</title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Google Font -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #F4F2FF;
        }

        .dashboard-title {
            font-weight: 700;
        }

        .stat-card {
            background: white;
            border-radius: 18px;
            padding: 25px;
            box-shadow: 0 10px 25px rgba(108, 99, 255, 0.08);
        }

        .stat-number {
            font-size: 26px;
            font-weight: 700;
            color: #6C63FF;
        }

        .stat-label {
            font-size: 14px;
            color: #777;
        }

        .chart-card {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 25px rgba(108, 99, 255, 0.08);
        }
    </style>
</head>
<body>

<div class="container py-5">

    <div class="mb-5">
        <h2 class="dashboard-title">Admin Analytics Dashboard</h2>
        <p class="text-muted">Internal case monitoring & performance insights</p>
    </div>

    <!-- Summary Stats -->
    <div class="row g-4 mb-5">

        <div class="col-md-3">
            <div class="stat-card text-center">
                <div class="stat-number">{{ total }}</div>
                <div class="stat-label">Total Reports</div>
            </div>
        </div>

        <div class="col-md-3">
            <div class="stat-card text-center">
                <div class="stat-number">{{ submitted }}</div>
                <div class="stat-label">Submitted</div>
            </div>
        </div>

        <div class="col-md-3">
            <div class="stat-card text-center">
                <div class="stat-number">{{ review }}</div>
                <div class="stat-label">Under Review</div>
            </div>
        </div>

        <div class="col-md-3">
            <div class="stat-card text-center">
                <div class="stat-number">{{ resolved }}</div>
                <div class="stat-label">Resolved</div>
            </div>
        </div>

    </div>

    <!-- Charts Row -->
    <div class="row g-4">

        <!-- Status Pie -->
        <div class="col-md-6">
            <div class="chart-card">
                <h5>Status Distribution</h5>
                <canvas id="statusChart"></canvas>
            </div>
        </div>

        <!-- Severity Pie -->
        <div class="col-md-6">
            <div class="chart-card">
                <h5>Severity Breakdown</h5>
                <canvas id="severityChart"></canvas>
            </div>
        </div>

        <!-- Trend Line -->
        <div class="col-12">
            <div class="chart-card mt-4">
                <h5>Reports Trend</h5>
                <canvas id="trendChart"></canvas>
            </div>
        </div>

    </div>

</div>

<script>
    const statusData = {{ status_data|safe }};
    const severityData = {{ severity_data|safe }};
    const trendLabels = {{ labels|safe }};
    const trendValues = {{ values|safe }};

    new Chart(document.getElementById('statusChart'), {
        type: 'doughnut',
        data: {
            labels: ['Submitted', 'Review', 'Resolved'],
            datasets: [{
                data: statusData,
                backgroundColor: ['#6C63FF', '#FFD93D', '#4CAF50']
            }]
        }
    });

    new Chart(document.getElementById('severityChart'), {
        type: 'pie',
        data: {
            labels: ['High', 'Medium', 'Low'],
            datasets: [{
                data: severityData,
                backgroundColor: ['#FF6B6B', '#FFA500', '#6C63FF']
            }]
        }
    });

    new Chart(document.getElementById('trendChart'), {
        type: 'line',
        data: {
            labels: trendLabels,
            datasets: [{
                label: 'Reports',
                data: trendValues,
                borderColor: '#6C63FF',
                backgroundColor: 'rgba(108, 99, 255, 0.1)',
                fill: true,
                tension: 0.4
            }]
        }
    });
</script>

</body>
</html>



